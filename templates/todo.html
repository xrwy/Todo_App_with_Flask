<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <!-- Add and Delete Panel -->
    <div class="container d-flex align-items-center" style="height: 800px;width: 800px !important;" id="main_window">
        <div style="flex: 1;" id="sub_window">
            <h1>Todo List</h1>
            <hr class="d-block m-0" style="width: 100%;"/>
            <h6 class="mt-3 mb-2">Todo Title</h6>
            <form action="/post" method="POST">
                <input type="text" class="form-control" style="box-shadow: none;" placeholder="Enter Todo Title" name="todo-Title" required/>
                <button class="btn btn-success mt-3" type="submit">
                    Add
                </button>
            </form>
            <hr class="d-block mt-4" style="width: 100%;"/>

            <div style="height: 300px;overflow-y: auto;">
                <table class="table table-hover table-border">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Todo Title</th>
                            <th>Todo State</th>
                            <th>Update</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    {% if data %}
                        <tbody>
                            {% for data_ in data %}
                                <tr>
                                    <td>{{data_[0]}}</td>
                                    <td>{{data_[1]}}</td>
                                    <td>{{data_[2]}}</td>
                                    <td>
                                        <a href="/update/{{data_[0]}}" class="btn btn-danger">
                                            Update
                                        </a>
                                    </td>
                                    <td>
                                        <a href="/delete/{{data_[0]}}" class="btn btn-danger">
                                            Delete
                                        </a>    
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    {% else %}
                        <tbody>
                            <tr>
                                <td>Not Found</td>
                                <td>Not Found</td>
                                <td>Not Found</td>
                                <td>Not Found</td>
                                <td>Not Found</td>
                            </tr>
                        </tbody>
                    {% endif %}
                </table>
            </div>
        </div>
    </div>
</body>
</html>